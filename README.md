# Enhancing REST API Testing with NLP Techniques

This repository contains the components necessary to run NLP2REST, an approach designed to automatically enhance OpenAPI specifications with rules extracted from natural language description fields. These rules include constraints and example values. 

In addition, this repository provides all the components required to replicate the experiment described in our paper, including testing tools and benchmark APIs.

## Table of Contents

1. [Recommended Environment](#recommended-environment)
2. [Setup](#setup)
3. [Steps to Use NLP2REST](#steps-to-use-nlp2rest)
    - [REST API(s)](#rest-apis)
    - [Deployment of the Rule Extractor Service](#deployment-of-the-rule-extractor-service)
    - [Run the Rule Validator](#run-the-rule-validator)

## Recommended Environment

This project has been tested and is known to work well on the following setup:

- Ubuntu 20.04
- Google Cloud EC2 machine with 24-core CPU and 128GB memory

## Setup

We provide a setup script to install the necessary packages and set up the environment for the project:

```
./setup.sh
```

## Steps to Use NLP2REST

1. **REST API(s):** The approach should be run on one or more target REST APIs. These APIs must be reachable at the URLs specified in their OpenAPI specifications. This artifact provides several REST APIs, or you can use public APIs reachable on the internet that provide OpenAPI specifications. To quickly test the approach, we recommend using the [FDIC REST API](https://banks.data.fdic.gov/), which is an online API, and we provide its specification in the `specifications` directory.

2. **Deployment of the Rule Extractor Service:** This service is a Python application that can be accessed through a REST API. It is capable of extracting OpenAPI formal rules from natural language. Please follow the instructions in the [rule_extractor](https://github.com/codingsoo/nlp2rest/tree/main/rule_extractor) directory to run the Rule Extractor. In short, you will need to:
    - Acquire a model either by training one or by downloading the pre-trained model from the Google Drive link provided in the README file.
    - Build and run the Python application. We provide a `Dockerfile` to quickly deploy the service, but instructions are also available to install the service on your system.
    - The service is expected to run on `localhost` on port `4000`, i.e., [http://localhost:4000/]().

3. **Run the Rule Validator:** This is a custom strategy built on top of the RestTestGen framework, available in the [rule_validator](https://github.com/codingsoo/nlp2rest/tree/main/rule_validator) directory, that will parse the OpenAPI specification of the selected API, call the Rule Extractor service to extract rules from natural language descriptions, and interact with the target API to validate the extracted rules. The output of RestTestGen will be available in a directory named `output`. This folder will contain the enhanced OpenAPI specification and reports of the HTTP interactions generated by the Rule Validator. Please note that RestTestGen expects the Rule Extractor to be running at [http://localhost:4000/](http://localhost:4000/). If you are running the Rule Extractor on a different port or host, please update the `baseUrl` field in the `RuleExtractorProxy` class of RestTestGen.
